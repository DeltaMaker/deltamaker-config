# INSTANIATION FOR STANDARD SIZE DELTAMAKER 2
# DeltaMaker 2 with einsy rambo board, standard print head and probe. 
#
# Date: 3/21/2023
#
# Copy to ~/printer.cfg 

##### START AND END GCODE #####
[gcode_macro START_PRINT]
gcode:
   START_PRINT_BASE
   SET_VELOCITY_LIMIT VELOCITY=100 ACCEL=2000 ACCEL_TO_DECEL=1000

[gcode_macro END_PRINT]
gcode:
   END_PRINT_BASE


##### SELECT PRIMARY MCU BOARD #####
[mcu]
serial: /dev/serial/by-id/usb-UltiMachine__ultimachine.com__RAMBo_75933333436351115150-if00

##### INCLUDE TOOLHEAD AND PROBE TYPE #####
[include /home/pi/deltamaker-config/toolhead-bowden.cfg]
[include /home/pi/deltamaker-config/probe-classic.cfg]

##### SPECIFY PRINTER DIMENSIONS #####
[printer]
print_radius: 125.0 		# approx 9 inch diameter build area
delta_radius: 106.8621 		# actual delta radius from CAD
[stepper_a]
position_endstop: 280 		# approx 10 inch high build volume
arm_length: 265
[bed_mesh]
mesh_radius: 110 			# usually 110 (+/-)
[delta_calibrate]
radius: 110 				# usually 110

##### SPECIFY NUMBER OF STATUS LEDS #####
[neopixel status_leds]
chain_count: 18

##### INCLUDE BOARD-SPECIFIC PIN DEFINITIONS #####
[include /home/pi/deltamaker-config/motion-system-einsy-rambo.pins]
[include /home/pi/deltamaker-config/toolhead-einsy-rambo.pins]

##### INCLUDE DEFAULT MACROS FOR START/END PRINT AND PAUSE/RESUME #####
[include /home/pi/deltamaker-config/deltamaker-default-macros.cfg]

##### INCLUDE BASE PRINTER CONFIGURATION #####
[include /home/pi/deltamaker-config/printer-deltamaker-base.cfg]

##### CALIBRATION DATA #####
[printer]
max_accel: 2500
square_corner_velocity: 5.0
[input_shaper]
[extruder]
nozzle_diameter: 0.35
control: pid
pid_Kp: 34.298
pid_Ki: 2.287
pid_Kd: 128.617
[probe]
z_offset = 0.419

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  1.367099, 1.367099, 1.367099, 1.367099, 1.367099
#*# 	  0.676657, 0.676657, 0.276657, 0.639260, 0.639260
#*# 	  1.557464, 0.394900, 0.000002, 0.225462, 1.209938
#*# 	  1.009827, 1.009827, 0.641881, 0.842396, 0.842396
#*# 	  1.955046, 1.955046, 1.955046, 1.955046, 1.955046
#*# tension = 0.2
#*# min_x = -118.01
#*# algo = lagrange
#*# y_count = 5
#*# mesh_y_pps = 2
#*# min_y = -121.0
#*# x_count = 5
#*# max_y = 99.01
#*# mesh_x_pps = 2
#*# max_x = 102.0
#*#
#*#
#*# [probe]
#*# location_bias = [(8, -43, 0.025), (-46, -44, 0.0), (-102, 10, -0.15),
#*# 	(-46, 11, 0.025), (8, 11, 0.05), (63, 10, 0.1),
#*# 	(118, 10, 0.075), (62, 65, 0.025), (7, 66, 0.075),
#*# 	(-47, 65, 0.0), (7, 121, 0.3), (0, 0, -0.025),
#*# 	(8, -99, -0.2), (62, -44, 0.1)]
